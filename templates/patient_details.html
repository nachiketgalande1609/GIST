{% extends 'therapist_base.html' %}

{% block content %}

<div id="patient-details">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{{ url_for('therapist_dashboard') }}">Home</a></li>
            <li class="breadcrumb-item"><a href="{{ url_for('patient_search') }}">User Search</a></li>
            <li class="breadcrumb-item active" aria-current="page">{{ user.first_name }} {{ user.last_name }}</li>
        </ol>
    </nav>
    <div id="patient-details-card" class="mb-3">
        <h4 class="card-title mb-4">User Details</h4>
        <div class="btn-group mb-4 patient-details-slider" role="group" aria-label="Basic example">
            <button type="button" id="general-details-button" class="btn patient-details-slider-active">General
                Details</button>
            <button type="button" id="activity-details-button" class="btn ">Progress Details</button>
        </div>
        <div id="general-details">
            <div id="patient-details-form">
                <form>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label for="patientName" class="form-label">User Name</label>
                                <input type="text" class="form-control" id="patientName"
                                    value="{{ user.first_name }} {{ user.last_name }}" placeholder="Enter patient name">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label for="dob" class="form-label">DOB</label>
                                <input type="date" class="form-control" id="dob" value="{{ user.dob }}">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label for="age" class="form-label">Age</label>
                                <input type="number" class="form-control" id="age" value="{{ user.age }}"
                                    placeholder="Enter Age">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label for="gender" class="form-label">Gender</label>
                                <select class="form-select" id="gender">
                                    <option {% if not user.gender %} selected {% endif %} disabled>Select gender
                                    </option>
                                    <option value="Male" {% if user.gender=='Male' %} selected {% endif %}>Male</option>
                                    <option value="Female" {% if user.gender=='Female' %} selected {% endif %}>Female
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label for="fatherName" class="form-label">Father's Name</label>
                                <input type="text" class="form-control" id="fatherName"
                                    placeholder="Enter father's name" value="{{ user.father_name }}">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label for="motherName" class="form-label">Mother's Name</label>
                                <input type="text" class="form-control" id="motherName"
                                    placeholder="Enter mother's name" value="{{ user.mother_name }}">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label for="address" class="form-label">Address</label>
                                <input type="text" class="form-control" id="address" placeholder="Enter address"
                                    value="{{ user.address }}">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label for="state" class="form-label">State</label>
                                <select class="form-select" id="state">
                                    <option {% if not user.state %} selected {% endif %} disabled>Select state
                                    </option>
                                    <option value="Andaman and Nicobar Islands" {% if
                                        user.state=='Andaman and Nicobar Islands' %} selected {% endif %}>
                                        Andaman and Nicobar Islands</option>
                                    <option value="Andhra Pradesh" {% if user.state=='Andhra Pradesh' %} selected {%
                                        endif %}>Andhra Pradesh</option>
                                    <option value="Arunachal Pradesh" {% if user.state=='Arunachal Pradesh' %} selected
                                        {% endif %}>Arunachal Pradesh</option>
                                    <option value="Assam" {% if user.state=='Assam' %} selected {% endif %}>
                                        Assam</option>
                                    <option value="Bihar" {% if user.state=='Bihar' %} selected {% endif %}>
                                        Bihar</option>
                                    <option value="Chandigarh" {% if user.state=='Chandigarh' %} selected {% endif %}>
                                        Chandigarh</option>
                                    <option value="Chhattisgarh" {% if user.state=='Chhattisgarh' %} selected {% endif
                                        %}>Chhattisgarh</option>
                                    <option value="Dadra and Nagar Haveli and Daman and Diu" {% if
                                        user.state=='Dadra and Nagar Haveli and Daman and Diu' %} selected {% endif %}>
                                        Dadra and Nagar Haveli and Daman and Diu</option>
                                    <option value="Delhi" {% if user.state=='Delhi' %} selected {% endif %}>
                                        Delhi</option>
                                    <option value="Goa" {% if user.state=='Goa' %} selected {% endif %}>Goa
                                    </option>
                                    <option value="Gujarat" {% if user.state=='Gujarat' %} selected {% endif %}>
                                        Gujarat</option>
                                    <option value="Haryana" {% if user.state=='Haryana' %} selected {% endif %}>
                                        Haryana</option>
                                    <option value="Himachal Pradesh" {% if user.state=='Himachal Pradesh' %} selected {%
                                        endif %}>Himachal Pradesh</option>
                                    <option value="Jammu and Kashmir" {% if user.state=='Jammu and Kashmir' %} selected
                                        {% endif %}>Jammu and Kashmir</option>
                                    <option value="Jharkhand" {% if user.state=='Jharkhand' %} selected {% endif %}>
                                        Jharkhand</option>
                                    <option value="Karnataka" {% if user.state=='Karnataka' %} selected {% endif %}>
                                        Karnataka</option>
                                    <option value="Kerala" {% if user.state=='Kerala' %} selected {% endif %}>
                                        Kerala</option>
                                    <option value="Ladakh" {% if user.state=='Ladakh' %} selected {% endif %}>
                                        Ladakh</option>
                                    <option value="Lakshadweep" {% if user.state=='Lakshadweep' %} selected {% endif %}>
                                        Lakshadweep</option>
                                    <option value="Madhya Pradesh" {% if user.state=='Madhya Pradesh' %} selected {%
                                        endif %}>Madhya Pradesh</option>
                                    <option value="Maharashtra" {% if user.state=='Maharashtra' %} selected {% endif %}>
                                        Maharashtra</option>
                                    <option value="Manipur" {% if user.state=='Manipur' %} selected {% endif %}>
                                        Manipur</option>
                                    <option value="Meghalaya" {% if user.state=='Meghalaya' %} selected {% endif %}>
                                        Meghalaya</option>
                                    <option value="Mizoram" {% if user.state=='Mizoram' %} selected {% endif %}>
                                        Mizoram</option>
                                    <option value="Nagaland" {% if user.state=='Nagaland' %} selected {% endif %}>
                                        Nagaland</option>
                                    <option value="Odisha" {% if user.state=='Odisha' %} selected {% endif %}>
                                        Odisha</option>
                                    <option value="Puducherry" {% if user.state=='Puducherry' %} selected {% endif %}>
                                        Puducherry</option>
                                    <option value="Punjab" {% if user.state=='Punjab' %} selected {% endif %}>
                                        Punjab</option>
                                    <option value="Rajasthan" {% if user.state=='Rajasthan' %} selected {% endif %}>
                                        Rajasthan</option>
                                    <option value="Sikkim" {% if user.state=='Sikkim' %} selected {% endif %}>
                                        Sikkim</option>
                                    <option value="Tamil Nadu" {% if user.state=='Tamil Nadu' %} selected {% endif %}>
                                        Tamil Nadu</option>
                                    <option value="Telangana" {% if user.state=='Telangana' %} selected {% endif %}>
                                        Telangana</option>
                                    <option value="Tripura" {% if user.state=='Tripura' %} selected {% endif %}>
                                        Tripura</option>
                                    <option value="Uttar Pradesh" {% if user.state=='Uttar Pradesh' %} selected {% endif
                                        %}>Uttar Pradesh</option>
                                    <option value="Uttarakhand" {% if user.state=='Uttarakhand' %} selected {% endif %}>
                                        Uttarakhand</option>
                                    <option value="West Bengal" {% if user.state=='West Bengal' %} selected {% endif %}>
                                        West Bengal</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label for="pincode" class="form-label">Pincode</label>
                                <input type="text" class="form-control" id="pincode" placeholder="Enter pincode"
                                    value="{{ user.pincode }}">
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <hr>
            <div id="session-notes">
                <h4 class="mb-2">Session Notes</h4>
                <p>Session 1</p>
                <textarea id="textarea" name="textarea" class="form-control mb-2" style="width: 100%;" rows="4">During today's session, Siddhant actively engaged in exercises aimed at enhancing expressive language skills and social interaction. He demonstrated significant progress in articulating thoughts and feelings, employing descriptive language with more ease. Through role-playing scenarios and visual aids, Siddhant showed improved understanding of social cues and displayed enhanced reciprocity during interactions. Sensory modulation techniques were seamlessly integrated to address any sensory sensitivities, resulting in increased comfort and engagement. Moving forward, we plan to further explore advanced communication strategies and continue addressing sensory needs to foster continued growth and development.</textarea>
                <p>Session Date: 08 Apr 2024</p>
                <p>Session 2</p>
                <textarea id="textarea" name="textarea" class="form-control mb-2" style="width: 100%;" rows="3"
                    placeholder="Enter session notes"></textarea>
                <div class="d-flex justify-content-between">
                    <p>Session Date: 08 Apr 2024</p>
                    <a id="add-new-session-btn">Add New Session</a>
                </div>
            </div>
            <hr>
            <div id="next-review">
                <div class="d-flex flex-row justify-content-between">
                    <div>
                        <h4 class="mb-2">Next Review</h4>
                        <h6>The upcoming review session is scheduled for</h6>
                    </div>
                    <div style="min-width: 300px;">
                        <label for="nextScheduledDate" class="form-label">Next Session Date</label>
                        <input type="date" class="form-control" id="nextScheduledDate" name="nextScheduledDate">
                    </div>
                </div>
            </div>
        </div>
        <div id="activity-details" style="display: none;">
            <div class="card mt-4 mb-4" id="pronunciation-details-card">
                <div class="card-body">
                    <h5 class="card-title">Pronunciation</h5>
                    <div style="display: flex; justify-content: space-between;">
                        <a style="width: 125px;">/A/<i class="bi bi-check-circle-fill pronunciation-pass"></i></a>
                        <span>Completed on 25 Mar 2024</span>
                        <a class="pronunciation-rating-pass"><i class="bi bi-star-fill"></i><i
                                class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i
                                class="bi bi-star-fill"></i><i class="bi bi-star"></i></a>
                        <a class="pronunciation-history-play"><i class="bi bi-play-circle-fill"></i></a>
                        <a class="add-comment-btn"><i class="bi bi-journal-text me-2"></i>Add Comments</a>
                    </div>
                    <hr>
                    <div style="display: flex; justify-content: space-between;">
                        <a style="width: 125px;">/B/<i class="bi bi-check-circle-fill pronunciation-pass"></i></a>
                        <span>Completed on 15 Mar 2024</span>
                        <a class="pronunciation-rating-pass"><i class="bi bi-star-fill"></i><i
                                class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i
                                class="bi bi-star-fill"></i><i class="bi bi-star"></i></a>
                        <a class="pronunciation-history-play"><i class="bi bi-play-circle-fill"></i></a>
                        <a class="add-comment-btn"><i class="bi bi-journal-text me-2"></i>Add Comments</a>
                    </div>
                    <hr>
                    <div style="display: flex; justify-content: space-between;">
                        <a style="width: 125px;">/C/<i class="bi bi-exclamation-circle-fill pronunciation-fail"></i></a>
                        <span>Completed on 27 Feb 2024</span>
                        <a class="pronunciation-rating-fail"><i class="bi bi-star-fill"></i><i
                                class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star"></i><i
                                class="bi bi-star"></i></a>
                        <a class="pronunciation-history-play"><i class="bi bi-play-circle-fill"></i></a>
                        <a class="add-comment-btn"><i class="bi bi-journal-text me-2"></i>Add Comments</a>
                    </div>
                </div>
            </div>

            <h5 class="mb-2">Observation Notes</h5>
            <textarea id="textarea" name="textarea" class="form-control mb-2" style="width: 100%;" rows="3"
                placeholder="Enter observation notes"></textarea>
            <div class="d-flex justify-content-between mb-4">
                <p>Session Date: 08 Apr 2024</p>
                <a id="add-new-session-btn" href="#" data-bs-toggle="modal" data-bs-target="#myModal">Add Note</a>
            </div>

            <div class="card mb-4" id="vocabulary-profile-card">
                <div class="card-body">
                    <h5 class="card-title">Vocabulary</h5>
                    <a>PART 1<i class="bi bi-check-circle-fill pronunciation-pass"></i></a>
                    <div style="display: flex; justify-content: space-between;">
                        <a class="profile-word-count">Word count: 200</a>
                        <span>Completed on 25 Mar 2024</span>
                        <a class="pronunciation-rating-pass"><i class="bi bi-star-fill"></i><i
                                class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i
                                class="bi bi-star-fill"></i><i class="bi bi-star"></i></a>
                        <a class="pronunciation-history-play"><i class="bi bi-play-circle-fill"></i></a>
                        <a class="add-comment-btn"><i class="bi bi-journal-text me-2"></i>Add Comments</a>
                    </div>
                    <hr>
                    <a>PART 2<i class="bi bi-exclamation-circle-fill pronunciation-fail"></i></a>
                    <div style="display: flex; justify-content: space-between;">
                        <a class="profile-word-count">Word count: 200</a>
                        <span>Completed on 25 Mar 2024</span>
                        <a class="pronunciation-rating-fail"><i class="bi bi-star-fill"></i><i
                                class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star"></i><i
                                class="bi bi-star"></i></a>
                        <a class="pronunciation-history-play"><i class="bi bi-play-circle-fill"></i></a>
                        <a class="add-comment-btn"><i class="bi bi-journal-text me-2"></i>Add Comments</a>
                    </div>
                </div>
            </div>

            <h5 class="mb-2">Observation Notes</h5>
            <textarea id="textarea" name="textarea" class="form-control mb-2" style="width: 100%;" rows="3"
                placeholder="Enter observation notes"></textarea>
            <div class="d-flex justify-content-between">
                <p>Session Date: 08 Apr 2024</p>
                <a id="add-new-session-btn" href="#" data-bs-toggle="modal" data-bs-target="#myModal">Add Note</a>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-between">
        <a href="" class="btn btn-outline-primary"
            style="width: 200px; line-height: 35px; border-radius: 30px;">Back</a>
        <a class="btn btn-dark" style="width: 200px; line-height: 35px; border-radius: 30px;">Update</a>
    </div>
</div>

<!-- Add Observation Notes Modal -->

<div class="modal fade" id="myModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="d-flex justify-content-end pe-2 pt-2">
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body text-center pb-4 fs-5 text-success">
          Your changes have been saved.
        </div>
      </div>
    </div>
  </div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        // Get the buttons and divs
        const generalDetailsButton = document.querySelector("#general-details-button");
        const activityDetailsButton = document.querySelector("#activity-details-button");
        const generalDetailsDiv = document.querySelector("#general-details");
        const activityDetailsDiv = document.querySelector("#activity-details");

        // Add event listeners to the buttons
        generalDetailsButton.addEventListener("click", function () {
            // Show general details div
            generalDetailsDiv.style.display = "block";
            // Hide activity details div
            activityDetailsDiv.style.display = "none";
            // Remove active class from activity details button
            activityDetailsButton.classList.remove("patient-details-slider-active");
            // Add active class to general details button
            generalDetailsButton.classList.add("patient-details-slider-active");
        });

        activityDetailsButton.addEventListener("click", function () {
            // Show activity details div
            activityDetailsDiv.style.display = "block";
            // Hide general details div
            generalDetailsDiv.style.display = "none";
            // Remove active class from general details button
            generalDetailsButton.classList.remove("patient-details-slider-active");
            // Add active class to activity details button
            activityDetailsButton.classList.add("patient-details-slider-active");
        });
    });
    
</script>

{% endblock %}